working_dir: "./"

env_vars:
  OMP_NUM_THREADS: "4"
  S3_SOURCE_ACCESS_KEY: "myaccesskey"
  S3_SOURCE_SECRET_KEY: "mysecretkey"
  S3_SOURCE_ENDPOINTS: "mys3service.com"
  S3_SOURCE_BUCKET: "docling-pipelines-source"
  S3_SOURCE_PREFIX: "documents-to-convert"
  S3_SOURCE_SSL: "True"
  S3_TARGET_ACCESS_KEY: "myaccesskey"
  S3_TARGET_SECRET_KEY: "mysecretkey"
  S3_TARGET_ENDPOINTS: "mys3service.com"
  S3_TARGET_BUCKET: "docling-pipelines-results"
  S3_TARGET_PREFIX: "converted-documents"
  S3_TARGET_SSL: "True"
  BATCH_SIZE: "20"
  
  # Docling conversion settings
  SETTINGS_DO_OCR: "True"
  SETTINGS_OCR_KIND: "easyocr"
  SETTINGS_DO_TABLE_STRUCTURE: "True"
  SETTINGS_TABLE_STRUCTURE_MODE: "fast"
  SETTINGS_DO_CODE_ENRICHMENT: "False"
  SETTINGS_DO_FORMULA_ENRICHMENT: "False"
  SETTINGS_DO_PICTURE_CLASSIFICATION: "False"
  SETTINGS_DO_PICTURE_DESCRIPTION: "False"
  SETTINGS_GENERATE_PAGE_IMAGES: "True"
  SETTINGS_GENERATE_PICTURE_IMAGES: "False"


# Expected environment if clean ray image is used. Take into account that ray worker can timeout before it finishes installing modules.
pip:
  - docling==2.23.0
  - --index-url=https://download.pytorch.org/whl/cpu
  - boto3~=1.35.36
  - --extra-index-url=https://pypi.org/simple

